
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>API Reference &#8212; rider  documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="rider" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="rider"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">rider  documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">API Reference</a><ul>
<li><a class="reference internal" href="#module-rider.dataframe">rider.dataframe module</a></li>
<li><a class="reference internal" href="#module-rider.files">rider.files module</a></li>
<li><a class="reference internal" href="#module-rider.helpers">rider.helpers module</a></li>
<li><a class="reference internal" href="#module-rider.pipeline">rider.pipeline module</a></li>
<li><a class="reference internal" href="#module-rider.plotting">rider.plotting module</a></li>
<li><a class="reference internal" href="#module-rider.routes">rider.routes module</a></li>
<li><a class="reference internal" href="#module-rider.search">rider.search module</a></li>
<li><a class="reference internal" href="#module-rider.vehicles">rider.vehicles module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">rider</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/rider.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-rider.dataframe" id="id1">rider.dataframe module</a></p></li>
<li><p><a class="reference internal" href="#module-rider.files" id="id2">rider.files module</a></p></li>
<li><p><a class="reference internal" href="#module-rider.helpers" id="id3">rider.helpers module</a></p></li>
<li><p><a class="reference internal" href="#module-rider.pipeline" id="id4">rider.pipeline module</a></p></li>
<li><p><a class="reference internal" href="#module-rider.plotting" id="id5">rider.plotting module</a></p></li>
<li><p><a class="reference internal" href="#module-rider.routes" id="id6">rider.routes module</a></p></li>
<li><p><a class="reference internal" href="#module-rider.search" id="id7">rider.search module</a></p></li>
<li><p><a class="reference internal" href="#module-rider.vehicles" id="id8">rider.vehicles module</a></p></li>
</ul>
</div>
<div class="section" id="module-rider.dataframe">
<span id="rider-dataframe-module"></span><h2>rider.dataframe module<a class="headerlink" href="#module-rider.dataframe" title="Permalink to this headline">¶</a></h2>
<p>Representaion of results.</p>
<dl class="py function">
<dt id="rider.dataframe.pairs_dataframe">
<code class="sig-prename descclassname">rider.dataframe.</code><code class="sig-name descname">pairs_dataframe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dicts</span><span class="p">:</span> <span class="n">List<span class="p">[</span>dict<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">milages</span><span class="p">:</span> <span class="n">List<span class="p">[</span>float<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.dataframe.pairs_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Создать датафрейм с парными характеристиками поездок
на основе списков <em>dicts</em> и <em>milages</em>.</p>
</dd></dl>

</div>
<div class="section" id="module-rider.files">
<span id="rider-files-module"></span><h2>rider.files module<a class="headerlink" href="#module-rider.files" title="Permalink to this headline">¶</a></h2>
<p>Download and read JSON files.</p>
<dl class="py function">
<dt id="rider.files.dataprep">
<code class="sig-prename descclassname">rider.files.</code><code class="sig-name descname">dataprep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">directory</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">json_dirname</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'jsons'</span></em>, <em class="sig-param"><span class="n">trackpoints_csv</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'df_full.csv'</span></em>, <em class="sig-param"><span class="n">summaries_csv</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'summaries.csv'</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>str<span class="p">, </span>str<span class="p">]</span><a class="headerlink" href="#rider.files.dataprep" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare data using <em>url</em>. 
Save data files at <em>directory</em>, re-use files if they exist.
Return paths to two CSV files.</p>
</dd></dl>

</div>
<div class="section" id="module-rider.helpers">
<span id="rider-helpers-module"></span><h2>rider.helpers module<a class="headerlink" href="#module-rider.helpers" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="rider.helpers.distance_km">
<code class="sig-prename descclassname">rider.helpers.</code><code class="sig-name descname">distance_km</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span><span class="p">:</span> <span class="n">tuple</span></em>, <em class="sig-param"><span class="n">b</span><span class="p">:</span> <span class="n">tuple</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.helpers.distance_km" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.helpers.from_cache">
<code class="sig-prename descclassname">rider.helpers.</code><code class="sig-name descname">from_cache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">getter</span><span class="p">:</span> <span class="n">Callable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.helpers.from_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Прочитать объект из <em>filename</em> или
создать объект с помощью getter и сохранить 
его в <em>filename</em>.
Возвращает значение getter().</p>
</dd></dl>

<dl class="py function">
<dt id="rider.helpers.safe_distance">
<code class="sig-prename descclassname">rider.helpers.</code><code class="sig-name descname">safe_distance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">b</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#rider.helpers.safe_distance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.helpers.safe_distance_2">
<code class="sig-prename descclassname">rider.helpers.</code><code class="sig-name descname">safe_distance_2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">b</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#rider.helpers.safe_distance_2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-rider.pipeline">
<span id="rider-pipeline-module"></span><h2>rider.pipeline module<a class="headerlink" href="#module-rider.pipeline" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="rider.pipeline.default_pipeline">
<code class="sig-prename descclassname">rider.pipeline.</code><code class="sig-name descname">default_pipeline</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">data_folder</span></em>, <em class="sig-param"><span class="n">days</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">types</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">limit</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.pipeline.default_pipeline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.pipeline.default_results">
<code class="sig-prename descclassname">rider.pipeline.</code><code class="sig-name descname">default_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.pipeline.default_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.pipeline.get_dataset">
<code class="sig-prename descclassname">rider.pipeline.</code><code class="sig-name descname">get_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">folder</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.pipeline.get_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.pipeline.get_dataset0">
<code class="sig-prename descclassname">rider.pipeline.</code><code class="sig-name descname">get_dataset0</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.pipeline.get_dataset0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.pipeline.make_subset">
<code class="sig-prename descclassname">rider.pipeline.</code><code class="sig-name descname">make_subset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df_full</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">vehicle_type</span><span class="p">:</span> <span class="n">Callable</span></em>, <em class="sig-param"><span class="n">days</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">types</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.pipeline.make_subset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.pipeline.make_subset_from_files">
<code class="sig-prename descclassname">rider.pipeline.</code><code class="sig-name descname">make_subset_from_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">full_csv</span></em>, <em class="sig-param"><span class="n">summaries_csv</span></em>, <em class="sig-param"><span class="n">days</span></em>, <em class="sig-param"><span class="n">types</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.pipeline.make_subset_from_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.pipeline.read_dataframe">
<code class="sig-prename descclassname">rider.pipeline.</code><code class="sig-name descname">read_dataframe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.pipeline.read_dataframe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-rider.plotting">
<span id="rider-plotting-module"></span><h2>rider.plotting module<a class="headerlink" href="#module-rider.plotting" title="Permalink to this headline">¶</a></h2>
<p>Графические функции для отрисовки треков</p>
<dl class="py function">
<dt id="rider.plotting.get_color">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">get_color</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.get_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.plotting.make_plotter">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">make_plotter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axis_plotter_func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.make_plotter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.plotting.plot_connections">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">plot_connections</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">routes</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.plot_connections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.plotting.plot_one">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">plot_one</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">route</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.plot_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.plotting.plot_points">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">plot_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">routes</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.plot_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.plotting.plot_points_and_connections">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">plot_points_and_connections</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">routes</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.plot_points_and_connections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.plotting.plot_raw_and_reduced">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">plot_raw_and_reduced</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f1</span></em>, <em class="sig-param"><span class="n">f2</span></em>, <em class="sig-param"><span class="n">r1</span></em>, <em class="sig-param"><span class="n">r2</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">'Общий заголовок'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.plot_raw_and_reduced" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.plotting.plot_two">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">plot_two</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">routes</span></em>, <em class="sig-param"><span class="n">i</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">j</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">simplify_with</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.plot_two" title="Permalink to this definition">¶</a></dt>
<dd><p>Отрисовка пары маршрутов по индексам в выборке.</p>
</dd></dl>

<dl class="py function">
<dt id="rider.plotting.scatter">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">scatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">route</span></em>, <em class="sig-param"><span class="n">col</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.scatter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.plotting.segments">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">segments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">route</span></em>, <em class="sig-param"><span class="n">col</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.segments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.plotting.yield_route_and_color">
<code class="sig-prename descclassname">rider.plotting.</code><code class="sig-name descname">yield_route_and_color</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">routes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.plotting.yield_route_and_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-rider.routes">
<span id="rider-routes-module"></span><h2>rider.routes module<a class="headerlink" href="#module-rider.routes" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="rider.routes.Trip">
<em class="property">class </em><code class="sig-prename descclassname">rider.routes.</code><code class="sig-name descname">Trip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">car</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">date</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.routes.Trip" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="rider.routes.Trip.car">
<code class="sig-name descname">car</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#rider.routes.Trip.car" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="rider.routes.Trip.date">
<code class="sig-name descname">date</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#rider.routes.Trip.date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="rider.routes.trips_dataframe">
<code class="sig-prename descclassname">rider.routes.</code><code class="sig-name descname">trips_dataframe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trips</span></em>, <em class="sig-param"><span class="n">routes</span></em>, <em class="sig-param"><span class="n">milages</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.routes.trips_dataframe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="rider.routes.Route">
<em class="property">class </em><code class="sig-prename descclassname">rider.routes.</code><code class="sig-name descname">Route</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">index</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Collection<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">columns</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Collection<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="p">:</span> <span class="n">Union[str, numpy.dtype, ExtensionDtype, None]</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">copy</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.routes.Route" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.core.frame.DataFrame</span></code></p>
<dl class="py method">
<dt id="rider.routes.Route.milage">
<em class="property">property </em><code class="sig-name descname">milage</code><a class="headerlink" href="#rider.routes.Route.milage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="rider.routes.make_route">
<code class="sig-prename descclassname">rider.routes.</code><code class="sig-name descname">make_route</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#rider.routes.Route" title="rider.routes.Route">rider.routes.Route</a><a class="headerlink" href="#rider.routes.make_route" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.routes.get_trips_and_routes">
<code class="sig-prename descclassname">rider.routes.</code><code class="sig-name descname">get_trips_and_routes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>List<span class="p">[</span><a class="reference internal" href="#rider.routes.Trip" title="rider.routes.Trip">rider.routes.Trip</a><span class="p">]</span><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#rider.routes.Route" title="rider.routes.Route">rider.routes.Route</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#rider.routes.get_trips_and_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-rider.search">
<span id="rider-search-module"></span><h2>rider.search module<a class="headerlink" href="#module-rider.search" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="rider.search.Coverage">
<em class="property">class </em><code class="sig-prename descclassname">rider.search.</code><code class="sig-name descname">Coverage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mins</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.Coverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Для каждой точки выбранного трека посчитано 
минимальное из расстояний до точек другого трека.</p>
<p>Если в треке 10 точек, то минимальных расстояний 
до другого трека будет 10.</p>
<p>Мы выбираем те из расстояний, которые меньше заданного 
порога(радиуса) сближения.</p>
<p>Предположим в треке 10 точек и минимальные расстояния до 
фигуры второго трека такие:</p>
<p>&gt;&gt; mins = [21.2, 22.6, 17.6, 7.7, 2.7, 0.3, 0.4, 0.6, 0.2, 3.1]</p>
<p>Тогда “сблизившимися” с другим треков при радиусе точности 1 
мы считаем 4 точки:</p>
<p>&gt;&gt; radius = 1           
&gt;&gt; [x for x in mins if x &lt; radius]
[0.3, 0.4, 0.6, 0.2]</p>
<p>Коэффциент перекрытия составляет 4/10 = 40%.</p>
<p>Он показывает, что 40% точек данного трека
находились на расстоянии не более чем <em>radius</em>
от какой-то точки другого трека.</p>
<p>Замечания:</p>
<ul class="simple">
<li><p>Коэффциент перекрытия (КП) может интепретироваться как 
часть пути, если отрезки между точками равные.</p></li>
<li><p>Значение коэффциента перекрытия зависит от точности 
апроксимации трека и радиуса.</p></li>
<li><p>Треки могут иметь сложную форму, высокий КП не гарантирует,
что доставку по одному треку можно переложить на другой трек.
Но при низких КП это заведомо невозможно.</p></li>
<li><p>Нулевой КП - машины ездили в разных местах.</p></li>
</ul>
<dl class="py method">
<dt id="rider.search.Coverage.coverage">
<code class="sig-name descname">coverage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">radius</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.Coverage.coverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Коэффициент перекрытия - доля трека, которая находится 
на расстоянии не более заданного радиуса от другого трека.</p>
</dd></dl>

<dl class="py method">
<dt id="rider.search.Coverage.in_proximity">
<code class="sig-name descname">in_proximity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">radius</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.Coverage.in_proximity" title="Permalink to this definition">¶</a></dt>
<dd><p>Количество точек с минимальными расстояниями до другого трека.
Минималаьное расстояние - это расстояние, величина которого
меньше заданного радиуса сближения.</p>
</dd></dl>

<dl class="py attribute">
<dt id="rider.search.Coverage.mins">
<code class="sig-name descname">mins</code><em class="property">: np.ndarray</em><em class="property"> = None</em><a class="headerlink" href="#rider.search.Coverage.mins" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="rider.search.Proximity">
<em class="property">class </em><code class="sig-prename descclassname">rider.search.</code><code class="sig-name descname">Proximity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mat</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.Proximity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Матрица расстояний между двумя треками.</p>
<dl class="py method">
<dt id="rider.search.Proximity.coverages">
<code class="sig-name descname">coverages</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.Proximity.coverages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="rider.search.Proximity.mat">
<code class="sig-name descname">mat</code><em class="property">: np.ndarray</em><em class="property"> = None</em><a class="headerlink" href="#rider.search.Proximity.mat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="rider.search.Proximity.max">
<code class="sig-name descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.Proximity.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Максимальное расстояние между всеми точками двух треков.</p>
</dd></dl>

<dl class="py method">
<dt id="rider.search.Proximity.min">
<code class="sig-name descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.Proximity.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Минимиальное расстояние между всеми точками двух треков.</p>
</dd></dl>

<dl class="py method">
<dt id="rider.search.Proximity.report">
<code class="sig-name descname">report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">search_radius</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.Proximity.report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="rider.search.Proximity.side_min">
<code class="sig-name descname">side_min</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axis</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.Proximity.side_min" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="rider.search.count_combinations">
<code class="sig-prename descclassname">rider.search.</code><code class="sig-name descname">count_combinations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#rider.search.count_combinations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.search.default_search">
<code class="sig-prename descclassname">rider.search.</code><code class="sig-name descname">default_search</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">routes</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#rider.routes.Route" title="rider.routes.Route">rider.routes.Route</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.default_search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.search.get_combinations">
<code class="sig-prename descclassname">rider.search.</code><code class="sig-name descname">get_combinations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span><span class="p">]</span><a class="headerlink" href="#rider.search.get_combinations" title="Permalink to this definition">¶</a></dt>
<dd><p>Выбор комбинаций из n по 2.</p>
</dd></dl>

<dl class="py function">
<dt id="rider.search.proximity">
<code class="sig-prename descclassname">rider.search.</code><code class="sig-name descname">proximity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r1</span></em>, <em class="sig-param"><span class="n">r2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.proximity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="rider.search.search">
<code class="sig-prename descclassname">rider.search.</code><code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">routes: List[rider.routes.Route], simplify_with: Callable, search_radius_1: float, refine_with=typing.Callable, search_radius_2=&lt;class 'float'&gt;, limit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#rider.search.search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-rider.vehicles">
<span id="rider-vehicles-module"></span><h2>rider.vehicles module<a class="headerlink" href="#module-rider.vehicles" title="Permalink to this headline">¶</a></h2>
<p>Find vehicle type.</p>
<dl class="py function">
<dt id="rider.vehicles.list_types">
<code class="sig-prename descclassname">rider.vehicles.</code><code class="sig-name descname">list_types</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<a class="headerlink" href="#rider.vehicles.list_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Перечислить типы автомобилей.</p>
</dd></dl>

<dl class="py function">
<dt id="rider.vehicles.wrap_vehicle_type">
<code class="sig-prename descclassname">rider.vehicles.</code><code class="sig-name descname">wrap_vehicle_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; Callable<a class="headerlink" href="#rider.vehicles.wrap_vehicle_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Вернуть функцию, которая по идентификатору автомобиля
будет определять его тип.
Функция создается на основе данных из файла <em>filename</em>.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="rider"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">rider  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Evgeniy Pogrebnyak, Stepan Zimin.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.3.
    </div>
  </body>
</html>